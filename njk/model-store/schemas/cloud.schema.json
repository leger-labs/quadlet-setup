{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://leger.run/schemas/model-store/cloud.schema.json",
  "title": "Cloud Model Definition",
  "description": "Schema for cloud API model definitions in the Leger Model Store",
  "type": "object",
  "required": [
    "id",
    "name",
    "provider",
    "litellm_model_name",
    "context_window",
    "requires_api_key"
  ],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the model (used in blueprint.json)",
      "pattern": "^[a-z0-9-]+$",
      "examples": ["gpt-5", "claude-sonnet-4-5", "gemini-2.5-flash"]
    },
    "name": {
      "type": "string",
      "description": "Display name for UI",
      "minLength": 1,
      "examples": ["GPT-5", "Claude Sonnet 4.5", "Gemini 2.5 Flash"]
    },
    "provider": {
      "type": "string",
      "description": "Cloud provider identifier",
      "enum": ["openai", "anthropic", "gemini", "openrouter", "groq", "xai", "deepseek", "mistral", "cohere"],
      "examples": ["openai", "anthropic", "gemini"]
    },
    "litellm_model_name": {
      "type": "string",
      "description": "Full LiteLLM model identifier (provider/model-id format)",
      "pattern": "^[a-z0-9-]+/[a-z0-9.-]+$",
      "examples": ["openai/gpt-5-2025-08-07", "anthropic/claude-sonnet-4-5-20250929"]
    },
    "context_window": {
      "type": "integer",
      "description": "Maximum context window in tokens",
      "minimum": 1,
      "examples": [8192, 200000, 1048576, 2000000]
    },
    "requires_api_key": {
      "type": "string",
      "description": "Environment variable name for API key",
      "pattern": "^[A-Z_]+$",
      "examples": ["OPENAI_API_KEY", "ANTHROPIC_API_KEY", "GEMINI_API_KEY"]
    },
    "description": {
      "type": "string",
      "description": "Textual description of the model (can be empty)",
      "examples": ["OpenAI's flagship GPT-5 model - Advanced reasoning, multimodal processing, tool calling"]
    },
    "icon": {
      "type": "string",
      "description": "Path to provider logo in assets/ folder",
      "pattern": "^assets/[a-z0-9-]+\\.(svg|png|jpg)$",
      "examples": ["assets/openai.svg", "assets/anthropic.svg"]
    },
    "capabilities": {
      "type": "array",
      "description": "List of model capabilities",
      "items": {
        "type": "string",
        "examples": ["chat", "vision", "reasoning", "code", "multimodal", "tool_calling", "function_execution"]
      },
      "uniqueItems": true
    },
    "pricing": {
      "type": "object",
      "description": "Pricing information",
      "properties": {
        "input_per_1m": {
          "type": "string",
          "description": "Cost per 1M input tokens",
          "examples": ["$1.25", "$0.25", "FREE"]
        },
        "output_per_1m": {
          "type": "string",
          "description": "Cost per 1M output tokens",
          "examples": ["$10.00", "$2.00", "FREE"]
        },
        "tier": {
          "type": "string",
          "description": "Pricing tier classification",
          "enum": ["free", "budget", "standard", "premium"],
          "examples": ["standard", "premium"]
        }
      }
    },
    "max_output": {
      "type": "integer",
      "description": "Maximum output tokens",
      "minimum": 1,
      "examples": [4096, 16384, 64000, 128000]
    },
    "use_cases": {
      "type": "array",
      "description": "Recommended use cases",
      "items": {
        "type": "string"
      },
      "examples": [["Complex reasoning tasks", "Multi-step problem solving", "Code generation"]]
    },
    "release_date": {
      "type": "string",
      "description": "Model release date (YYYY-MM-DD or YYYY)",
      "pattern": "^[0-9]{4}(-[0-9]{2}-[0-9]{2})?$",
      "examples": ["2025-08-07", "2025"]
    },
    "notes": {
      "type": "string",
      "description": "Additional notes about the model",
      "examples": ["Unprecedented capabilities in reasoning, coding, and agentic tasks"]
    },
    "features": {
      "type": "array",
      "description": "Key features",
      "items": {
        "type": "string"
      }
    },
    "performance": {
      "type": "object",
      "description": "Performance metrics and comparisons",
      "additionalProperties": true
    },
    "parameters": {
      "type": "object",
      "description": "Configurable parameters (e.g., reasoning_effort, temperature)",
      "additionalProperties": true
    },
    "deprecated": {
      "type": "boolean",
      "description": "Whether this model is deprecated",
      "default": false
    },
    "replacement": {
      "type": "string",
      "description": "Model ID to use instead (if deprecated)",
      "pattern": "^[a-z0-9-]+$",
      "examples": ["gpt-5", "claude-sonnet-4-5"]
    },
    "deprecation_reason": {
      "type": "string",
      "description": "Reason for deprecation",
      "examples": ["Provider retired this model", "Superseded by newer version"]
    },
    "sunset_date": {
      "type": "string",
      "description": "Date when model will be removed (YYYY-MM-DD)",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
      "examples": ["2026-01-01"]
    },
    "enabled": {
      "type": "boolean",
      "description": "Whether model is enabled by default in blueprints",
      "default": true
    }
  },
  "additionalProperties": false
}
